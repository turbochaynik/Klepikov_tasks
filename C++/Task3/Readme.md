Структура наследования выглядит следующим образом:
PassengerTransport – базовый абстрактный класс, содержащий общие данные:

Номер маршрута, вместимость, текущее число пассажиров, цена билета.

Статический счётчик созданных объектов.

Чистые виртуальные методы:
­– getType() – возвращает тип транспорта,
­– calculateRevenue() – вычисление дохода,
– а также виртуальный метод displayInfo() для вывода информации.

Дополнительные методы для посадки и высадки пассажиров, перегрузка оператора вывода и оператора для расчёта цены билета с учётом скидок.

Bus и Tram – простое наследование от PassengerTransport, где:

Bus добавляет признак наличия Wi-Fi.

Tram добавляет число вагонов. Реализуются их специфичные методы (например, displayInfo(), getType(), calculateRevenue()).

WaterTransport и AirTransport – классы, отражающие особенности водного и воздушного транспорта.
­– Они наследуют от PassengerTransport виртуально (используя конструкцию virtual public PassengerTransport), что гарантирует наличие только одного экземпляра базового класса при множественном наследовании.

Для обоих типов добавлено дополнительное поле – количество двигателей.

Методы: переопределён displayInfo(), getType() и calculateRevenue().

HybridTransport – класс гибридного транспорта, который наследуется от WaterTransport и AirTransport. Благодаря виртуальному наследованию в обоих родительских классах в итоговом объекте будет один экземпляр PassengerTransport. Дополнительно хранится тип энергии (например, «Гибридный» или «Электрический»).

1. Абстрактный базовый класс PassengerTransport
Общее назначение:
Этот класс задаёт общие свойства и поведение для всех видов пассажирского транспорта. Он является абстрактным, то есть не предназначен для непосредственного создания объектов, а служит основой для специализированных классов (например, автобусы, трамваи, водный, воздушный и гибридный транспорт).

Что хранит класс:

Строку, представляющую номер маршрута.

Максимальное количество пассажиров (вместимость).

Текущее число пассажиров, находящихся в транспортном средстве.

Цену билета.

Статическую переменную-счётчик, которая отслеживает общее количество созданных объектов транспорта.

Основные методы:

Конструкторы (обычный и копирования): При создании каждого объекта увеличивается статический счётчик. Конструктор копирования делает копию полей объекта и также увеличивает счётчик.

Оператор присваивания: Позволяет присвоить одним объектам значения другого, если они не ссылаются на один и тот же объект.

Виртуальный деструктор: При уничтожении объекта происходит уменьшение счётчика, что помогает отслеживать, сколько объектов остаётся в системе.

Геттеры: Предоставляют доступ к полям, например, к номеру маршрута, вместимости, количеству пассажиров, цене билета и общему числу транспортных средств.

Чисто виртуальные методы: Эти методы (например, getType(), displayInfo(), calculateRevenue()) не имеют реализации в базовом классе и обязаны быть реализованы в наследниках. Они отвечают за возврат типа транспорта, форматированный вывод данных и расчет дохода.

Методы для управления пассажирами: Методы для посадки и высадки пассажиров проверяют, соблюдается ли вместимость, и корректно изменяют число пассажиров.

Перегруженный оператор вывода: Позволяет выводить все данные об объекте через поток (например, на экран) в стандартизированном формате.

Оператор квадратных скобок: Выполняет расчет цены билета с учетом скидок по возрастным категориям (например, для детей или пенсионеров).

2. Классы Bus и Tram (наследники PassengerTransport)
Общее назначение:
Эти классы представляют два базовых типа городского транспорта — автобус и трамвай. Они наследуют все общие свойства от базового класса, но вводят свои особенности.

Bus:

Помимо общих полей, в классе добавлено булево поле, которое хранит информацию о наличии Wi-Fi в автобусе.

При создании объекта автобуса вызывается конструктор базового класса, который инициализирует общие параметры (маршрут, вместимость, цена).

Методы, определенные в классе, переопределяют виртуальные функции базового класса:

Метод для вывода информации (выводит номер маршрута, вместимость, цену и наличие Wi-Fi).

Метод для возврата типа транспорта возвращает строку, обозначающую «Автобус».

Метод для расчета выручки умножает число пассажиров на цену билета.

Tram:

Этот класс характеризует трамвай, дополняясь дополнительным полем, описывающим число вагонов.

В конструкторе и методах сначала вызываются соответствующие функции базового класса для инициализации общих параметров, затем добавляется специфичная для трамвая информация (количество вагонов).

Метод для вывода информации выводит номер маршрута, вместимость, цену билета и число вагонов.

Тип транспорта возвращается как «Трамвай», а расчет дохода аналогичен другим классам (произведение количества пассажиров на цену билета).

3. Классы WaterTransport и AirTransport (виртуальное наследование от PassengerTransport)
Общее назначение:
Эти классы представляют транспортные средства, использующие специальные среды движения — воду и воздух. Для каждого из этих типов введено дополнительное поле, определяющее количество двигателей, что является одной из ключевых характеристик для таких средств.

Особенности виртуального наследования:

При использовании виртуального наследования ключевое слово virtual указывается в объявлении наследования от базового класса. Это гарантирует, что даже если позже будет создан класс, который наследуется от обоих этих типов (например, гибридный транспорт), объект такого класса будет содержать только один экземпляр базового класса PassengerTransport.

Оба класса определяют свои собственные реализации методов для вывода информации, которые включают как общие параметры (маршрут, вместимость, цена), так и специфичные для данных типов (количество двигателей).

Водный транспорт (WaterTransport):

Выводит информацию, включающую количество двигателей, наряду с общими данными.

Метод возврата типа возвращает «Водный транспорт».

Расчет дохода производится по тем же правилам, что и в базовом классе, умножая число пассажиров на цену билета.

Воздушный транспорт (AirTransport):

Аналогично, выводит данные об объекте, включая число двигателей.

Тип транспорта возвращается как «Воздушный транспорт».

Методы для вывода и расчета дохода аналогичны классу WaterTransport.

4. Класс HybridTransport (множественное наследование)
Общее назначение:
HybridTransport предназначен для представления гибридных транспортных средств, которые объединяют характеристики водного и воздушного транспорта. Он наследуется от классов WaterTransport и AirTransport.

Ромбовидное наследование:

Благодаря тому, что WaterTransport и AirTransport наследуют PassengerTransport виртуально, объект гибридного транспорта содержит лишь один экземпляр базового класса. Это устраняет проблему дублирования полей из PassengerTransport, которая возникает при прямом множественном наследовании.

Что вводит класс:

Дополнительное строковое поле, которое хранит информацию о типе энергии (например, «Гибридный» или «Электрический»).

При создании объекта HybridTransport вызываются конструкторы сразу всех родительских классов. Однако благодаря виртуальному наследованию конструктор PassengerTransport вызывается только один раз.

Метод для вывода информации (displayInfo) выводит как общие данные (маршрут, вместимость, цена), так и специфичную информацию – тип энергии.

Метод getType возвращает строку «Гибридный транспорт», а расчет дохода происходит аналогично другим классам.

5. Файл main.cpp (демонстрация работы системы)
Общее назначение:
Основной файл демонстрирует работу всех типов транспортных средств через полиморфный интерфейс. Основная идея заключается в том, что функция для тестирования принимает указатель на базовый класс (PassengerTransport*), что позволяет работать со всеми наследниками без явного указания типа.

Что происходит в main.cpp:

Создаются объекты для всех типов транспорта:

Объект автобуса с указанным маршрутом, вместимостью, ценой и наличием Wi-Fi.

Объект трамвая с заданными параметрами и числом вагонов.

Объект водного транспорта с соответствующими параметрами (маршрут, вместимость, цена, количество двигателей).

Объект воздушного транспорта с параметрами, характеризующими параметры полета.

Объект гибридного транспорта, который наследуется от водного и воздушного, и имеет дополнительную характеристику – тип энергии.

Для каждого объекта вызывается функция, которая:

Вызывает метод displayInfo() для печати текущей информации по объекту.

Выполняется операция посадки пассажиров (метод embarkPassengers), затем объект выводится через перегруженный оператор вывода.

Аналогично выполняется операция высадки пассажиров (метод disembarkPassengers) и снова выводится обновленная информация.

После выполнения тестов все объекты удаляются (delete), что вызывает вызов деструкторов. Деструкторы не только освобождают ресурсы, но и уменьшают общий статический счётчик объектов.
