Номер задания: 6, Тональность
Файлы в архиве:
- tonalnost.py
  Главный скрипт на Python, выполняет:
    - чтение словаря тональных слов (words_all_full_rating.csv),
    - морфологическую обработку текста (pymorphy2),
    - подсчёт статистики: общее число слов, число окрашенных слов, число уникальных слов,
      средняя оценка по всем словам и средняя оценка по окрашенным словам,
    - для коротких тестовых предложений — вывод списка окрашенных слов.
- words_all_full_rating.csv
  Словарь тональных слов (формат: "Words";"mean";"dispersion";"average rate"), кодировка: windows-1251 - источник из формулировки задачи.
  Важно: не удалять и не менять кодировку.

- tests/ (папка с тестовыми текстами)
  - Винни-пух.txt — полный текст (пример положительного детского произведения)
  - Война и мир I-II том.txt — полный текст (пример крупного романа)
  - Маленький принц.txt — полный текст (пример негативного произведения)
  Примечание: названия файлов могут отличаться; скрипт читает все `.txt` в папке `texts/`.
- rew.csv
  Датасет отзывов на товары. Содержит ID товара, ID покупателя, оценку по 5-ти бальной шкале, развернутый отзыв. 
  Важно: не удалять и не менять кодировку.

Требования для запуска:
- Операционная система: macOS / Linux / Windows — Python 3.10 рекомендуется (pymorphy2 несовместим с 3.13).
- Необходимые библиотеки:
    pandas, pymorphy2

Как запускать:
Прямой запуск:
   python tonalnost.py

Описание алгоритма (кратко):
- Предлагается 3 варианта работы:
  - Оценка введенного текста или файла
  - Оценка отзывов из файла rew.csv
  - Оценка заготовленных тестов, которые показывают разные варианты результата работы.
- Токенизация и удаление не русских символов.
- Объединение выражений "не <слово>" в форму `не_<слово>` перед лемматизацией.
- Лемматизация слова с pymorphy2.
- Поиск леммы в словаре: если найдено — берем оценку; если найдено в виде `не_<base>` — инвертируем оценку.
- Подсчёт:
    total_words — число токенов (после предобработки),
    tone_words_total — количество окрашенных слов (уникальных),
    unique_words — число уникальных лемм,
    avg_tone_all — сумма оценок / total_words,
    avg_tone_colored — сумма оценок окрашенных / число окрашенных.
- Вывод подробного списка окрашенных слов для коротких тестов и только сводной таблицы для файлов.

Рассмотренные случаи из тестов:
Text1 - очень позитивный текст, очень много положительных слов
Text2 - очень отрицательный текст, все слова отрицательные
Text3 - просто положительный текст
Text4 - просто отрицательный текст
Text5 - нейтральный текст, нет окрашенных слов
Text6 - Иллюстрация варианта, в котором программа не работает: много положительных слов, но исходя из контекста, очевидно, что они имеют отрицательный окрас
Text7 - Иллюстрация того, что эта проблема с иронией не решается, например, правилом, что если слово в кавычках, то оно меняет свой знак
Text8 - Иллюстрация, показывающая, что вежливость воспринимается за хорошие слова (снова проблема контекста)

Ограничения и известные пограничные случаи:
- Точность зависит от покрытия словаря `words_all_full_rating.csv`. Если нужная форма (напр., "рад" или "кринжовый") отсутствует, скрипт может её не найти; я добавил обработку "не" и минимальные подстановки.
- Программа так же не может обрабатывать контекст текста, например иронию. Для иронии даже нельзя придумать правило, например, кавычек, в которых бы оценка инвертировалась, так как без контекста нельзя достоверно определить, ирония это или нет.
- Вежливость как например «Было бы неплохо, если бы исправили ошибку» программа оценит как нейтральный текст, хотя, на самом деле он, скорее негативный.
- Для корректной работы под macOS/ARM используйте Python 3.10 или 3.11; pymorphy2 может конфликтовать с Python 3.13.

В качестве прикладной задачи я рассматриваю оценку отзывов на какой то товар. Программа ждет на вход ID товара, после этого выводит и оценивает все отзывы на него в таблице и составляет статистику, показывается средняя оценка отзывов. Таблицу с отзывами я создавал сам, так как не нашел в свободном доступе датасет с отзывами на товары на русском языке. Файл с отзывами называется rew.csv